<div>
  <div os-page-header>
    <ul os-breadcrumbs>
      <li><a ui-sref="container-list" translate="container.list">Storage Containers</a></li>
    </ul>
    <h3>
      <span translate="container.create_hierarchy">Create Container Hierarchy</span>
    </h3>
  </div>
  <div class="container">
    <form name="chform" class="form-horizontal" os-form-validator="chform" validator="chformValidator" novalidate>
      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container.container_type">Container Type</span>
        </label>
        <div class="col-xs-6">
          <os-select ng-model="hierarchySpec.containerTypeName" list="containerTypes"
            display-prop="name" select-prop="name" name="containerType"
            placeholder="{{'container_type.container_type' | translate}}" required>
          </os-select>
          <div os-field-error field="chform.containerType"></div>
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container.parent_site">Parent Site</span>
        </label>
        <div class="col-xs-6">
          <os-select ng-model="hierarchySpec.parentSite" list="sites" placeholder="{{'container.site' | translate}}"
            name="parentSite" on-change="onSiteSelect" required>
          </os-select>
          <div os-field-error field="chform.parentSite"></div>
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container.parent_container">Parent Container</span>
        </label>
        <div class="col-xs-6">
          <os-select ng-model="hierarchySpec.parentContainer" list="containers" placeholder="{{'container.container' | translate}}"
            display-prop="name" select-prop="name" refresh="searchContainers">
          </os-select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container_type.no_of_containers">Number of Containers</span>
        </label>
        <div class="col-xs-6">
          <input type="text" name="noOfContainers" ng-model="hierarchySpec.numOfContainers" class="form-control"
            placeholder="{{'container_type.no_of_containers' | translate}}" ng-pattern="/^[0-9]*$/" required>
          <div os-field-error field="chform.noOfContainers"></div>
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container.collection_protocol">Collection Protocol</span>
        </label>
        <div class="col-xs-6">
          <os-select multiple ng-model="hierarchySpec.allowedCollectionProtocols" list="cps"
             placeholder="{{container.collection_protocol | translate}}">
          </os-select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">
          <span translate="container.specimen_types">Specimen Types</span>
        </label>
        <div class="col-xs-6">
          <os-group-selector
            placeholder="{{container.specimen_types | translate}}"
            opts="specimenTypeSelectorOpts"
            selected-categories="hierarchySpec.allowedSpecimenClasses"
            selected-category-items="hierarchySpec.allowedSpecimenTypes">
          </os-group-selector>
        </div>
      </div>

      <div class="os-divider"></div>

      <div class="form-group">
        <div class="col-xs-offset-3 col-xs-6">
          <button class="btn btn-primary" os-form-submit="create()">
            <span translate="common.buttons.create">Create</span>
          </button>
          <button class="btn os-btn-text" ng-click="back()" translate="common.buttons.discard">Discard</button>
        </div>
      </div>
    </form>
  </div>
</div>